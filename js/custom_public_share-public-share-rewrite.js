(()=>{"use strict";const t=()=>window.location.protocol+"//"+window.location.host+function(){let t=window._oc_webroot;if(void 0===t){t=location.pathname;const e=t.indexOf("/index.php/");if(-1!==e)t=t.slice(0,e);else{const e=t.indexOf("/",1);t=t.slice(0,e>0?e:void 0)}}return t}();!function(){let e;try{e=function(t,e){const o=document.querySelector(`#initial-state-${t}-${e}`);if(null===o)throw new Error(`Could not find initial state ${e} of ${t}`);try{return JSON.parse(atob(o.value))}catch(o){throw new Error(`Could not parse initial state ${e} of ${t}`)}}("custom_public_share","custom_domain")}catch(t){return}if(!e)return;const o=t(),n=new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"(/index\\.php)?/s/([A-Za-z0-9]+)","g");function r(t){return t.replace(n,(t,o,n)=>e+"/s/"+n)}if(navigator.clipboard&&"function"==typeof navigator.clipboard.writeText){const t=navigator.clipboard.writeText.bind(navigator.clipboard);navigator.clipboard.writeText=function(e){return t(r(e))}}const i=window.prompt;window.prompt=function(t,e){return"string"==typeof e&&(e=r(e)),i.call(window,t,e)};const a=new MutationObserver(t=>{for(const e of t){for(const t of e.addedNodes)t.nodeType===Node.ELEMENT_NODE&&l(t);"attributes"===e.type&&"INPUT"===e.target.tagName&&"value"===e.attributeName&&u(e.target)}});function c(t){return n.lastIndex=0,n.test(t)}function u(t){t.value&&c(t.value)&&(t.value=r(t.value))}function l(t){t.querySelectorAll('input[type="text"], input[type="url"], input:not([type])').forEach(u),"INPUT"===t.tagName&&u(t),t.querySelectorAll("a[href]").forEach(t=>{c(t.href)&&(t.href=r(t.href)),t.textContent&&c(t.textContent)&&(t.textContent=r(t.textContent))})}document.body?a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}):document.addEventListener("DOMContentLoaded",()=>{a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]})})}()})();